<!-- card.component.html -->
<ion-content>
    <ion-header>
        <ion-toolbar>
            <ion-title>Quiz Kategorien</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-list>
        <ion-item *ngFor="let category of categories$ | async" (click)="selectCategory(category.id)">
            {{ category.name }}
        </ion-item>
    </ion-list>
        <ion-card *ngIf="currentQuestion">
            <ion-card-header>
                {{ currentQuestion.question }}
            </ion-card-header>
            <ion-card-content>
                <ion-list>
                    <ion-item
                            *ngFor="let answer of currentQuestion.answers"
                            [ngClass]="{
                            'selected': selectedAnswers.includes(answer),
                            'correct': showResult && isCorrectAnswer(answer),
                            'incorrect': showResult && !isCorrectAnswer(answer) && selectedAnswers.includes(answer)
                        }" (click)="toggleAnswer(answer)">
                        {{ answer }}
                    </ion-item>
                </ion-list>
                <ion-button *ngIf="!showResult" (click)="checkAnswers()">Antworten überprüfen</ion-button>
                <ion-button *ngIf="showResult" (click)="getNextQuestion()">Nächste Frage</ion-button>
                <p *ngIf="showResult && !isAnswerCorrect()">Falsch! Die richtigen Antworten sind: {{ currentQuestion.correctAnswer.join(', ') }}</p>
            </ion-card-content>
        </ion-card>
</ion-content>
